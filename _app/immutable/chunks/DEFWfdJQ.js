var zt=Object.defineProperty;var jt=Object.getPrototypeOf;var Zt=Reflect.get;var vt=t=>{throw TypeError(t)};var Xt=(t,e,n)=>e in t?zt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var d=(t,e,n)=>Xt(t,typeof e!="symbol"?e+"":e,n),Qe=(t,e,n)=>e.has(t)||vt("Cannot "+n);var i=(t,e,n)=>(Qe(t,e,"read from private field"),n?n.call(t):e.get(t)),u=(t,e,n)=>e.has(t)?vt("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),f=(t,e,n,r)=>(Qe(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),T=(t,e,n)=>(Qe(t,e,"access private method"),n);var gt=(t,e,n)=>Zt(jt(t),n,e);import{a5 as Yt,aY as Gt,au as Jt,e as Qt,h as bt,i as $t,k as en,j as tn,l as nn,a3 as rn,K as j,g,d as y,a8 as z,X as ot,aI as sn,a7 as Ze,a9 as on,p as ue,f as re,a as ae,b as Te,aZ as un}from"./DJOWLQzl.js";import{c as ie,a as se}from"./BebRjxns.js";import{s as Ne}from"./DTvKWMUD.js";import{i as an}from"./DLewSWn-.js";import{x as ce,w as D,y as Xe,h as m,z as Z,B as cn,C as ln,T as fn,D as hn}from"./D2YctWCI.js";import{o as I}from"./B10RhOtf.js";import{p as S}from"./C91Ie8WR.js";function Cr(t,e,n){bt&&$t();var r=t,s=rn,o,a=Yt()?Gt:Jt;Qt(()=>{a(s,s=e())&&(o&&en(o),o=tn(()=>n(r)))}),bt&&(r=nn)}var O,F,L,X,Ie;const lt=class lt extends Map{constructor(n){super();u(this,X);u(this,O,new Map);u(this,F,j(0));u(this,L,j(0));if(n){for(var[r,s]of n)super.set(r,s);i(this,L).v=super.size}}has(n){var r=i(this,O),s=r.get(n);if(s===void 0){var o=super.get(n);if(o!==void 0)s=j(0),r.set(n,s);else return g(i(this,F)),!1}return g(s),!0}forEach(n,r){T(this,X,Ie).call(this),super.forEach(n,r)}get(n){var r=i(this,O),s=r.get(n);if(s===void 0){var o=super.get(n);if(o!==void 0)s=j(0),r.set(n,s);else{g(i(this,F));return}}return g(s),super.get(n)}set(n,r){var w;var s=i(this,O),o=s.get(n),a=super.get(n),h=super.set(n,r),l=i(this,F);if(o===void 0)o=j(0),s.set(n,o),y(i(this,L),super.size),ce(l);else if(a!==r){ce(o);var b=l.reactions===null?null:new Set(l.reactions),A=b===null||!((w=o.reactions)!=null&&w.every(Ae=>b.has(Ae)));A&&ce(l)}return h}delete(n){var r=i(this,O),s=r.get(n),o=super.delete(n);return s!==void 0&&(r.delete(n),y(i(this,L),super.size),y(s,-1),ce(i(this,F))),o}clear(){if(super.size!==0){super.clear();var n=i(this,O);y(i(this,L),0);for(var r of n.values())y(r,-1);ce(i(this,F)),n.clear()}}keys(){return g(i(this,F)),super.keys()}values(){return T(this,X,Ie).call(this),super.values()}entries(){return T(this,X,Ie).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return g(i(this,L)),super.size}};O=new WeakMap,F=new WeakMap,L=new WeakMap,X=new WeakSet,Ie=function(){g(i(this,F));var n=i(this,O);if(i(this,L).v!==n.size){for(var r of gt(lt.prototype,this,"keys").call(this))if(!n.has(r)){var s=j(0);n.set(r,s)}}for([,s]of i(this,O))g(s)};let $e=lt;var Y;class dn{constructor(e,n){u(this,Y,z(void 0));n!==void 0&&y(i(this,Y),n,!0),D(()=>e(),(r,s)=>{y(i(this,Y),s,!0)})}get current(){return g(i(this,Y))}}Y=new WeakMap;function Ye(t){ot(()=>()=>{t()})}function ut(t,e){return setTimeout(e,t)}function Ge(t){sn().then(t)}const mn=1,pn=9,vn=11;function et(t){return Xe(t)&&t.nodeType===mn&&typeof t.nodeName=="string"}function Ct(t){return Xe(t)&&t.nodeType===pn}function gn(t){var e;return Xe(t)&&((e=t.constructor)==null?void 0:e.name)==="VisualViewport"}function bn(t){return Xe(t)&&t.nodeType!==void 0}function Dt(t){return bn(t)&&t.nodeType===vn&&"host"in t}function yn(t,e){var r;if(!t||!e||!et(t)||!et(e))return!1;const n=(r=e.getRootNode)==null?void 0:r.call(e);if(t===e||t.contains(e))return!0;if(n&&Dt(n)){let s=e;for(;s;){if(t===s)return!0;s=s.parentNode||s.host}}return!1}function at(t){return Ct(t)?t:gn(t)?t.document:(t==null?void 0:t.ownerDocument)??document}function wn(t){var e;return Dt(t)?wn(t.host):Ct(t)?t.defaultView??window:et(t)?((e=t.ownerDocument)==null?void 0:e.defaultView)??window:window}function En(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}var le;class ct{constructor(e){d(this,"element");u(this,le,Ze(()=>this.element.current?this.element.current.getRootNode()??document:document));d(this,"getDocument",()=>at(this.root));d(this,"getWindow",()=>this.getDocument().defaultView??window);d(this,"getActiveElement",()=>En(this.root));d(this,"isActiveElement",e=>e===this.getActiveElement());d(this,"querySelector",e=>this.root?this.root.querySelector(e):null);d(this,"querySelectorAll",e=>this.root?this.root.querySelectorAll(e):[]);d(this,"setTimeout",(e,n)=>this.getWindow().setTimeout(e,n));d(this,"clearTimeout",e=>this.getWindow().clearTimeout(e));typeof e=="function"?this.element=m.with(e):this.element=e}get root(){return g(i(this,le))}set root(e){y(i(this,le),e)}getElementById(e){return this.root.getElementById(e)}}le=new WeakMap;function N(){}var fe,xe,It;class Sn{constructor(e,n){u(this,xe);d(this,"state");u(this,fe);this.state=m(e),f(this,fe,n),this.dispatch=this.dispatch.bind(this)}dispatch(e){this.state.current=T(this,xe,It).call(this,e)}}fe=new WeakMap,xe=new WeakSet,It=function(e){return i(this,fe)[this.state.current][e]??this.state.current};const Tn={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}};var he,de,me;class Nn{constructor(e){d(this,"opts");u(this,he,z("none"));u(this,de,z(on({})));d(this,"initialStatus");d(this,"previousPresent");d(this,"machine");d(this,"present");u(this,me,Ze(()=>["mounted","unmountSuspended"].includes(this.machine.state.current)));this.opts=e,this.present=this.opts.open,this.initialStatus=e.open.current?"mounted":"unmounted",this.previousPresent=new dn(()=>this.present.current),this.machine=new Sn(this.initialStatus,Tn),this.handleAnimationEnd=this.handleAnimationEnd.bind(this),this.handleAnimationStart=this.handleAnimationStart.bind(this),An(this),Cn(this),Dn(this)}get prevAnimationNameState(){return g(i(this,he))}set prevAnimationNameState(e){y(i(this,he),e,!0)}get styles(){return g(i(this,de))}set styles(e){y(i(this,de),e,!0)}handleAnimationEnd(e){if(!this.opts.ref.current)return;const n=Fe(this.opts.ref.current),r=n.includes(e.animationName)||n==="none";e.target===this.opts.ref.current&&r&&this.machine.dispatch("ANIMATION_END")}handleAnimationStart(e){this.opts.ref.current&&e.target===this.opts.ref.current&&(this.prevAnimationNameState=Fe(this.opts.ref.current))}get isPresent(){return g(i(this,me))}set isPresent(e){y(i(this,me),e)}}he=new WeakMap,de=new WeakMap,me=new WeakMap;function An(t){D(()=>t.present.current,()=>{if(!t.opts.ref.current||!(t.present.current!==t.previousPresent.current))return;const n=t.prevAnimationNameState,r=Fe(t.opts.ref.current);if(t.present.current)t.machine.dispatch("MOUNT");else if(r==="none"||t.styles.display==="none")t.machine.dispatch("UNMOUNT");else{const s=n!==r;t.previousPresent.current&&s?t.machine.dispatch("ANIMATION_OUT"):t.machine.dispatch("UNMOUNT")}})}function Cn(t){D(()=>t.machine.state.current,()=>{if(!t.opts.ref.current)return;const e=Fe(t.opts.ref.current);t.prevAnimationNameState=t.machine.state.current==="mounted"?e:"none"})}function Dn(t){D(()=>t.opts.ref.current,()=>{if(t.opts.ref.current)return t.styles=getComputedStyle(t.opts.ref.current),Z(I(t.opts.ref.current,"animationstart",t.handleAnimationStart),I(t.opts.ref.current,"animationcancel",t.handleAnimationEnd),I(t.opts.ref.current,"animationend",t.handleAnimationEnd))})}function Fe(t){return t&&getComputedStyle(t).animationName||"none"}function Dr(t,e){ue(e,!0);const n=new Nn({open:m.with(()=>e.open),ref:e.ref});var r=ie(),s=re(r);{var o=a=>{var h=ie(),l=re(h);Ne(l,()=>e.presence??Te,()=>({present:n.isPresent})),se(a,h)};an(s,a=>{(e.forceMount||e.open||n.isPresent)&&a(o)})}se(t,r),ae()}var G,K,U,k,tt,Oe;class In{constructor(e){u(this,k);u(this,G);u(this,K);u(this,U,!1);f(this,G,e),Ye(()=>T(this,k,tt).call(this))}run(e){if(i(this,U))return;T(this,k,tt).call(this),f(this,U,!0);const n=i(this,G).ref.current;if(!n){f(this,U,!1);return}if(typeof n.getAnimations!="function"){T(this,k,Oe).call(this,e);return}f(this,K,window.requestAnimationFrame(()=>{const r=n.getAnimations();if(r.length===0){T(this,k,Oe).call(this,e);return}Promise.allSettled(r.map(s=>s.finished)).then(()=>{T(this,k,Oe).call(this,e)})}))}}G=new WeakMap,K=new WeakMap,U=new WeakMap,k=new WeakSet,tt=function(){i(this,K)&&(window.cancelAnimationFrame(i(this,K)),f(this,K,void 0)),f(this,U,!1)},Oe=function(e){const n=()=>{e(),f(this,U,!1)};i(this,G).afterTick?Ge(n):n()};var P,pe,ve;class Ir{constructor(e){u(this,P);u(this,pe);u(this,ve);f(this,P,e),f(this,pe,e.enabled??!0),f(this,ve,new In({ref:i(this,P).ref,afterTick:i(this,P).open})),D([()=>i(this,P).open.current],([n])=>{i(this,pe)&&i(this,ve).run(()=>{n===i(this,P).open.current&&i(this,P).onComplete()})})}}P=new WeakMap,pe=new WeakMap,ve=new WeakMap;const Ot=typeof document<"u",yt=On();function On(){var t,e;return Ot&&((t=window==null?void 0:window.navigator)==null?void 0:t.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function nt(t){return t instanceof HTMLElement}function Fn(t){return t instanceof Element}function Or(t){return t.matches(":focus-visible")}function Fr(t){return t!==null}function Ln(t){return t instanceof HTMLInputElement&&"select"in t}function Pn(t,e){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Ft(t,e,n,r){const s=Array.isArray(e)?e:[e];return s.forEach(o=>t.addEventListener(o,n,r)),()=>{s.forEach(o=>t.removeEventListener(o,n,r))}}class Lt{constructor(e,n={bubbles:!0,cancelable:!0}){d(this,"eventName");d(this,"options");this.eventName=e,this.options=n}createEvent(e){return new CustomEvent(this.eventName,{...this.options,detail:e})}dispatch(e,n){const r=this.createEvent(n);return e.dispatchEvent(r),r}listen(e,n,r){const s=o=>{n(o)};return I(e,this.eventName,s,r)}}function wt(t,e=500){let n=null;const r=(...s)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...s)},e)};return r.destroy=()=>{n!==null&&(clearTimeout(n),n=null)},r}function Pt(t,e){return t===e||t.contains(e)}function xt(t){return(t==null?void 0:t.ownerDocument)??document}function Lr(t){if(!t)return null;for(const e of t.childNodes)if(e.nodeType!==Node.COMMENT_NODE)return e;return null}function xn(t,e){const{clientX:n,clientY:r}=t,s=e.getBoundingClientRect();return n<s.left||n>s.right||r<s.top||r>s.bottom}globalThis.bitsDismissableLayers??(globalThis.bitsDismissableLayers=new Map);var J,V,_,Q,$,B,ge,x,ke,oe,kt,Me,ee,Re,Ue,_e,Be,be,Mt,Ke,Ve;const ft=class ft{constructor(e){u(this,oe);d(this,"opts");u(this,J);u(this,V);u(this,_,{pointerdown:!1});u(this,Q,!1);u(this,$,!1);u(this,B);u(this,ge);u(this,x,N);u(this,ke,e=>{e.defaultPrevented||this.opts.ref.current&&Ge(()=>{var n,r;!this.opts.ref.current||i(this,Be).call(this,e.target)||e.target&&!i(this,$)&&((r=(n=i(this,ge)).current)==null||r.call(n,e))})});u(this,Me,e=>{let n=e;n.defaultPrevented&&(n=Et(e)),i(this,J).current(e)});u(this,ee,wt(e=>{if(!this.opts.ref.current){i(this,x).call(this);return}const n=this.opts.isValidEvent.current(e,this.opts.ref.current)||Rn(e,this.opts.ref.current);if(!i(this,Q)||T(this,oe,Mt).call(this)||!n){i(this,x).call(this);return}let r=e;if(r.defaultPrevented&&(r=Et(r)),i(this,V).current!=="close"&&i(this,V).current!=="defer-otherwise-close"){i(this,x).call(this);return}e.pointerType==="touch"?(i(this,x).call(this),f(this,x,Ft(i(this,B),"click",i(this,Me),{once:!0}))):i(this,J).current(r)},10));u(this,Re,e=>{i(this,_)[e.type]=!0});u(this,Ue,e=>{i(this,_)[e.type]=!1});u(this,_e,()=>{this.opts.ref.current&&f(this,Q,Mn(this.opts.ref.current))});u(this,Be,e=>this.opts.ref.current?Pt(this.opts.ref.current,e):!1);u(this,be,wt(()=>{for(const e in i(this,_))i(this,_)[e]=!1;f(this,Q,!1)},20));u(this,Ke,()=>{f(this,$,!0)});u(this,Ve,()=>{f(this,$,!1)});d(this,"props",{onfocuscapture:i(this,Ke),onblurcapture:i(this,Ve)});this.opts=e,f(this,V,e.interactOutsideBehavior),f(this,J,e.onInteractOutside),f(this,ge,e.onFocusOutside),ot(()=>{f(this,B,xt(this.opts.ref.current))});let n=N;const r=()=>{i(this,be).call(this),globalThis.bitsDismissableLayers.delete(this),i(this,ee).destroy(),n()};D([()=>this.opts.enabled.current,()=>this.opts.ref.current],()=>{if(!(!this.opts.enabled.current||!this.opts.ref.current))return ut(1,()=>{this.opts.ref.current&&(globalThis.bitsDismissableLayers.set(this,i(this,V)),n(),n=T(this,oe,kt).call(this))}),r}),Ye(()=>{i(this,be).destroy(),globalThis.bitsDismissableLayers.delete(this),i(this,ee).destroy(),i(this,x).call(this),n()})}static create(e){return new ft(e)}};J=new WeakMap,V=new WeakMap,_=new WeakMap,Q=new WeakMap,$=new WeakMap,B=new WeakMap,ge=new WeakMap,x=new WeakMap,ke=new WeakMap,oe=new WeakSet,kt=function(){return Z(I(i(this,B),"pointerdown",Z(i(this,Re),i(this,_e)),{capture:!0}),I(i(this,B),"pointerdown",Z(i(this,Ue),i(this,ee))),I(i(this,B),"focusin",i(this,ke)))},Me=new WeakMap,ee=new WeakMap,Re=new WeakMap,Ue=new WeakMap,_e=new WeakMap,Be=new WeakMap,be=new WeakMap,Mt=function(){return Object.values(i(this,_)).some(Boolean)},Ke=new WeakMap,Ve=new WeakMap;let rt=ft;function kn(t){return t.findLast(([e,{current:n}])=>n==="close"||n==="ignore")}function Mn(t){const e=[...globalThis.bitsDismissableLayers],n=kn(e);if(n)return n[0].opts.ref.current===t;const[r]=e[0];return r.opts.ref.current===t}function Rn(t,e){if("button"in t&&t.button>0)return!1;const n=t.target;return Fn(n)?xt(n).documentElement.contains(n)&&!Pt(e,n)&&xn(t,e):!1}function Et(t){const e=t.currentTarget,n=t.target;let r;t instanceof PointerEvent?r=new PointerEvent(t.type,t):r=new PointerEvent("pointerdown",t);let s=!1;return new Proxy(r,{get:(a,h)=>h==="currentTarget"?e:h==="target"?n:h==="preventDefault"?()=>{s=!0,typeof a.preventDefault=="function"&&a.preventDefault()}:h==="defaultPrevented"?s:h in a?a[h]:t[h]})}function Pr(t,e){ue(e,!0);let n=S(e,"interactOutsideBehavior",3,"close"),r=S(e,"onInteractOutside",3,N),s=S(e,"onFocusOutside",3,N),o=S(e,"isValidEvent",3,()=>!1);const a=rt.create({id:m.with(()=>e.id),interactOutsideBehavior:m.with(()=>n()),onInteractOutside:m.with(()=>r()),enabled:m.with(()=>e.enabled),onFocusOutside:m.with(()=>s()),isValidEvent:m.with(()=>o()),ref:e.ref});var h=ie(),l=re(h);Ne(l,()=>e.children??Te,()=>({props:a.props})),se(t,h),ae()}globalThis.bitsEscapeLayers??(globalThis.bitsEscapeLayers=new Map);var We,qe;const ht=class ht{constructor(e){d(this,"opts");d(this,"domContext");u(this,We,()=>I(this.domContext.getDocument(),"keydown",i(this,qe),{passive:!1}));u(this,qe,e=>{if(e.key!==cn||!Un(this))return;const n=new KeyboardEvent(e.type,e);e.preventDefault();const r=this.opts.escapeKeydownBehavior.current;r!=="close"&&r!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(n)});this.opts=e,this.domContext=new ct(this.opts.ref);let n=N;D(()=>e.enabled.current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,e.escapeKeydownBehavior),n=i(this,We).call(this)),()=>{n(),globalThis.bitsEscapeLayers.delete(this)}))}static create(e){return new ht(e)}};We=new WeakMap,qe=new WeakMap;let it=ht;function Un(t){const e=[...globalThis.bitsEscapeLayers],n=e.findLast(([s,{current:o}])=>o==="close"||o==="ignore");if(n)return n[0]===t;const[r]=e[0];return r===t}function xr(t,e){ue(e,!0);let n=S(e,"escapeKeydownBehavior",3,"close"),r=S(e,"onEscapeKeydown",3,N);it.create({escapeKeydownBehavior:m.with(()=>n()),onEscapeKeydown:m.with(()=>r()),enabled:m.with(()=>e.enabled),ref:e.ref});var s=ie(),o=re(s);Ne(o,()=>e.children??Te),se(t,s),ae()}globalThis.bitsIdCounter??(globalThis.bitsIdCounter={current:0});function Rt(t="bits"){return globalThis.bitsIdCounter.current++,`${t}-${globalThis.bitsIdCounter.current}`}const M=m([]);function _n(){return{add(t){const e=M.current[0];e&&t.id!==e.id&&e.pause(),M.current=St(M.current,t),M.current.unshift(t)},remove(t){var e;M.current=St(M.current,t),(e=M.current[0])==null||e.resume()},get current(){return M.current}}}function Bn(){let t=z(!1),e=z(!1);return{id:Rt(),get paused(){return g(t)},get isHandlingFocus(){return g(e)},set isHandlingFocus(n){y(e,n,!0)},pause(){y(t,!0)},resume(){y(t,!1)}}}function St(t,e){return[...t].filter(n=>n.id!==e.id)}function Kn(t){return t.filter(e=>e.tagName!=="A")}function R(t,{select:e=!1}={}){if(!(t&&t.focus))return;const n=at(t);if(n.activeElement===t)return;const r=n.activeElement;t.focus({preventScroll:!0}),t!==r&&Ln(t)&&e&&t.select()}function Vn(t,{select:e=!1}={},n){const r=n();for(const s of t)if(R(s,{select:e}),n()!==r)return!0}function Tt(t,e){for(const n of t)if(!Pn(n,e))return n}function Ut(t){const e=[],r=at(t).createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const o=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||o?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Wn(t){const e=Ut(t),n=Tt(e,t),r=Tt(e.reverse(),t);return[n,r]}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var qn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Hn=qn.join(","),_t=typeof Element>"u",Le=_t?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Pe=!_t&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},zn=function t(e,n){var r;n===void 0&&(n=!0);var s=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=s===""||s==="true",a=o||n&&e&&t(e.parentNode);return a},jn=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},Zn=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Xn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||jn(e))&&!Zn(e)?0:e.tabIndex},Bt=function(e){return e.tagName==="INPUT"},Yn=function(e){return Bt(e)&&e.type==="hidden"},Gn=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},Jn=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},Qn=function(e){if(!e.name)return!0;var n=e.form||Pe(e),r=function(h){return n.querySelectorAll('input[type="radio"][name="'+h+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=r(window.CSS.escape(e.name));else try{s=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var o=Jn(s,e.form);return!o||o===e},$n=function(e){return Bt(e)&&e.type==="radio"},er=function(e){return $n(e)&&!Qn(e)},tr=function(e){var n,r=e&&Pe(e),s=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==e){var a,h,l;for(o=!!((a=s)!==null&&a!==void 0&&(h=a.ownerDocument)!==null&&h!==void 0&&h.contains(s)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!o&&s;){var b,A,w;r=Pe(s),s=(b=r)===null||b===void 0?void 0:b.host,o=!!((A=s)!==null&&A!==void 0&&(w=A.ownerDocument)!==null&&w!==void 0&&w.contains(s))}}return o},Nt=function(e){var n=e.getBoundingClientRect(),r=n.width,s=n.height;return r===0&&s===0},nr=function(e,n){var r=n.displayCheck,s=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=Le.call(e,"details>summary:first-of-type"),a=o?e.parentElement:e;if(Le.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof s=="function"){for(var h=e;e;){var l=e.parentElement,b=Pe(e);if(l&&!l.shadowRoot&&s(l)===!0)return Nt(e);e.assignedSlot?e=e.assignedSlot:!l&&b!==e.ownerDocument?e=b.host:e=l}e=h}if(tr(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Nt(e);return!1},rr=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var s=n.children.item(r);if(s.tagName==="LEGEND")return Le.call(n,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}n=n.parentElement}return!1},ir=function(e,n){return!(n.disabled||zn(n)||Yn(n)||nr(n,e)||Gn(n)||rr(n))},sr=function(e,n){return!(er(n)||Xn(n)<0||!ir(e,n))},or=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Le.call(e,Hn)===!1?!1:sr(n,e)};const ur=new Lt("focusScope.autoFocusOnMount",{bubbles:!1,cancelable:!0}),ar=new Lt("focusScope.autoFocusOnDestroy",{bubbles:!1,cancelable:!0}),cr=new ln("FocusScope");function lr({id:t,loop:e,enabled:n,onOpenAutoFocus:r,onCloseAutoFocus:s,forceMount:o,ref:a}){const h=_n(),l=Bn(),b=cr.getOr({ignoreCloseAutoFocus:!1});let A=null;const w=new ct(a);function Ae(c){if(!(l.paused||!a.current||l.isHandlingFocus)){l.isHandlingFocus=!0;try{const p=c.target;if(!nt(p))return;const v=a.current.contains(p);if(c.type==="focusin")if(v)A=p;else{if(b.ignoreCloseAutoFocus)return;R(A,{select:!0})}else c.type==="focusout"&&!v&&!b.ignoreCloseAutoFocus&&R(A,{select:!0})}finally{l.isHandlingFocus=!1}}}function Wt(c){if(!A||!a.current)return;let p=!1;for(const v of c){if(v.type==="childList"&&v.removedNodes.length>0)for(const E of v.removedNodes){if(E===A){p=!0;break}if(E.nodeType===Node.ELEMENT_NODE&&E.contains(A)){p=!0;break}}if(p)break}p&&a.current&&!a.current.contains(w.getActiveElement())&&R(a.current)}D([()=>a.current,()=>n.current],([c,p])=>{if(!c||!p)return;const v=Z(I(w.getDocument(),"focusin",Ae),I(w.getDocument(),"focusout",Ae)),E=new MutationObserver(Wt);return E.observe(c,{childList:!0,subtree:!0,attributes:!1}),()=>{v(),E.disconnect()}}),D([()=>o.current,()=>a.current],([c,p])=>{if(c)return;const v=w.getActiveElement();return mt(p,v),()=>{p&&pt(v)}}),D([()=>o.current,()=>a.current,()=>n.current],([c,p])=>{if(!c)return;const v=w.getActiveElement();return mt(p,v),()=>{p&&pt(v)}});function mt(c,p){if(c||(c=w.getElementById(t.current)),!c||!n.current)return;if(h.add(l),!c.contains(p)){const E=ur.createEvent();r.current(E),E.defaultPrevented||Ge(()=>{if(!c)return;Vn(Kn(Ut(c)),{select:!0},()=>w.getActiveElement())||R(c)})}}function pt(c){var E;const p=ar.createEvent();(E=s.current)==null||E.call(s,p);const v=b.ignoreCloseAutoFocus;ut(0,()=>{!p.defaultPrevented&&c&&!v&&R(or(c)?c:w.getDocument().body,{select:!0}),h.remove(l)})}function qt(c){if(!n.current||!e.current&&!n.current||l.paused)return;const p=c.key===fn&&!c.ctrlKey&&!c.altKey&&!c.metaKey,v=w.getActiveElement();if(!(p&&v))return;const E=a.current;if(!E)return;const[Ce,Je]=Wn(E);Ce&&Je?!c.shiftKey&&v===Je?(c.preventDefault(),e.current&&R(Ce,{select:!0})):c.shiftKey&&v===Ce&&(c.preventDefault(),e.current&&R(Je,{select:!0})):v===E&&c.preventDefault()}const Ht=Ze(()=>({id:t.current,tabindex:-1,onkeydown:qt}));return{get props(){return g(Ht)}}}function kr(t,e){ue(e,!0);let n=S(e,"trapFocus",3,!1),r=S(e,"loop",3,!1),s=S(e,"onCloseAutoFocus",3,N),o=S(e,"onOpenAutoFocus",3,N),a=S(e,"forceMount",3,!1);const h=lr({enabled:m.with(()=>n()),loop:m.with(()=>r()),onCloseAutoFocus:m.with(()=>s()),onOpenAutoFocus:m.with(()=>o()),id:m.with(()=>e.id),forceMount:m.with(()=>a()),ref:e.ref});var l=ie(),b=re(l);Ne(b,()=>e.focusScope??Te,()=>({props:h.props})),se(t,l),ae()}globalThis.bitsTextSelectionLayers??(globalThis.bitsTextSelectionLayers=new Map);var te,He,Kt,ze,ye;const dt=class dt{constructor(e){u(this,He);d(this,"opts");d(this,"domContext");u(this,te,N);u(this,ze,e=>{const n=this.opts.ref.current,r=e.target;!nt(n)||!nt(r)||!this.opts.enabled.current||!hr(this)||!yn(n,r)||(this.opts.onPointerDown.current(e),!e.defaultPrevented&&f(this,te,fr(n,this.domContext.getDocument().body)))});u(this,ye,()=>{i(this,te).call(this),f(this,te,N)});this.opts=e,this.domContext=new ct(e.ref);let n=N;D(()=>this.opts.enabled.current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),n(),n=T(this,He,Kt).call(this)),()=>{n(),i(this,ye).call(this),globalThis.bitsTextSelectionLayers.delete(this)}))}static create(e){return new dt(e)}};te=new WeakMap,He=new WeakSet,Kt=function(){return Z(I(this.domContext.getDocument(),"pointerdown",i(this,ze)),I(this.domContext.getDocument(),"pointerup",hn(i(this,ye),this.opts.onPointerUp.current)))},ze=new WeakMap,ye=new WeakMap;let st=dt;const At=t=>t.style.userSelect||t.style.webkitUserSelect;function fr(t,e){const n=At(e),r=At(t);return De(e,"none"),De(t,"text"),()=>{De(e,n),De(t,r)}}function De(t,e){t.style.userSelect=e,t.style.webkitUserSelect=e}function hr(t){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const n=e.at(-1);return n?n[0]===t:!1}function Mr(t,e){ue(e,!0);let n=S(e,"preventOverflowTextSelection",3,!0),r=S(e,"onPointerDown",3,N),s=S(e,"onPointerUp",3,N);st.create({id:m.with(()=>e.id),onPointerDown:m.with(()=>r()),onPointerUp:m.with(()=>s()),enabled:m.with(()=>e.enabled&&n()),ref:e.ref});var o=ie(),a=re(o);Ne(a,()=>e.children??Te),se(t,o),ae()}var we,ne,W,q,je,Vt;class dr{constructor(e){u(this,je);u(this,we);u(this,ne,0);u(this,W,z());u(this,q);f(this,we,e)}get(...e){return f(this,ne,i(this,ne)+1),g(i(this,W))===void 0&&f(this,q,un(()=>{y(i(this,W),i(this,we).call(this,...e),!0)})),ot(()=>()=>{T(this,je,Vt).call(this)}),g(i(this,W))}}we=new WeakMap,ne=new WeakMap,W=new WeakMap,q=new WeakMap,je=new WeakSet,Vt=function(){f(this,ne,i(this,ne)-1),i(this,q)&&i(this,ne)<=0&&(i(this,q).call(this),y(i(this,W),void 0),f(this,q,void 0))};const mr=new dr(()=>{const t=new $e,e=Ze(()=>{for(const o of t.values())if(o)return!0;return!1});let n=z(null),r=null;function s(){Ot&&(document.body.setAttribute("style",g(n)??""),document.body.style.removeProperty("--scrollbar-width"),yt&&(r==null||r()))}return D(()=>g(e),()=>{if(!g(e))return;y(n,document.body.getAttribute("style"),!0);const o=getComputedStyle(document.body),a=window.innerWidth-document.documentElement.clientWidth,l={padding:Number.parseInt(o.paddingRight??"0",10)+a,margin:Number.parseInt(o.marginRight??"0",10)};a>0&&(document.body.style.paddingRight=`${l.padding}px`,document.body.style.marginRight=`${l.margin}px`,document.body.style.setProperty("--scrollbar-width",`${a}px`),document.body.style.overflow="hidden"),yt&&(r=Ft(document,"touchmove",b=>{b.target===document.documentElement&&(b.touches.length>1||b.preventDefault())},{passive:!1})),Ge(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})}),Ye(()=>()=>{r==null||r()}),{get map(){return t},resetBodyStyle:s}});var H,Ee,Se,C;class pr{constructor(e,n=()=>null){u(this,H,Rt());u(this,Ee);u(this,Se,()=>null);u(this,C);d(this,"locked");f(this,Ee,e),f(this,Se,n),f(this,C,mr.get()),i(this,C)&&(i(this,C).map.set(i(this,H),i(this,Ee)??!1),this.locked=m.with(()=>i(this,C).map.get(i(this,H))??!1,r=>i(this,C).map.set(i(this,H),r)),Ye(()=>{if(i(this,C).map.delete(i(this,H)),vr(i(this,C).map))return;const r=i(this,Se).call(this);r===null?requestAnimationFrame(()=>i(this,C).resetBodyStyle()):ut(r,()=>i(this,C).resetBodyStyle())}))}}H=new WeakMap,Ee=new WeakMap,Se=new WeakMap,C=new WeakMap;function vr(t){for(const[e,n]of t)if(n)return!0;return!1}function Rr(t,e){ue(e,!0);let n=S(e,"preventScroll",3,!0),r=S(e,"restoreScrollDelay",3,null);n()&&new pr(n(),()=>r()),ae()}export{Pr as D,xr as E,kr as F,Ir as O,Dr as P,Rr as S,Mr as T,Ge as a,ct as b,ut as c,dn as d,Ot as e,Fr as f,wn as g,Lr as h,yt as i,at as j,Cr as k,Fn as l,nt as m,N as n,Ye as o,$e as p,Or as q,Rt as u};
