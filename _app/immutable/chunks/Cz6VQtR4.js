var ct=Object.defineProperty;var lt=Object.getPrototypeOf;var dt=Reflect.get;var Ve=n=>{throw TypeError(n)};var ft=(n,e,t)=>e in n?ct(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var P=(n,e,t)=>ft(n,typeof e!="symbol"?e+"":e,t),xe=(n,e,t)=>e.has(n)||Ve("Cannot "+t);var u=(n,e,t)=>(xe(n,e,"read from private field"),t?t.call(n):e.get(n)),f=(n,e,t)=>e.has(n)?Ve("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),S=(n,e,t,r)=>(xe(n,e,"write to private field"),r?r.call(n,t):e.set(n,t),t),U=(n,e,t)=>(xe(n,e,"access private method"),t);var We=(n,e,t)=>dt(lt(n),t,e);import{J as ht,aE as vt,aF as mt,e as bt,h as ze,i as pt,k as yt,j as gt,l as Et,U as wt,aq as H,g as l,d as y,L as C,v as X,ad as St,ax as Nt,M as Ce,p as ee,f as Y,a as te,b as le,aG as Tt,x as It}from"./BIkgw-1U.js";import"./CWj6FrbW.js";import{z as T,c as J,a as Q,p as w}from"./CujC3t6_.js";import{i as At}from"./W85UMD7X.js";import{s as de}from"./D8mt64Sx.js";import{k as ne,d as h,w as F,l as V,u as Be,o as Lt,n as Ft,c as Qe,C as Ot,T as Dt,p as Ct}from"./fBq-xLl8.js";function Un(n,e,t){ze&&pt();var r=n,i=wt,s,o=ht()?vt:mt;bt(()=>{o(i,i=e())&&(s&&yt(s),s=gt(()=>t(r)))}),ze&&(r=Et)}var A,L,O,W,be;const Ke=class Ke extends Map{constructor(t){super();f(this,W);f(this,A,new Map);f(this,L,H(0));f(this,O,H(0));if(t){for(var[r,i]of t)super.set(r,i);u(this,O).v=super.size}}has(t){var r=u(this,A),i=r.get(t);if(i===void 0){var s=super.get(t);if(s!==void 0)i=H(0),r.set(t,i);else return l(u(this,L)),!1}return l(i),!0}forEach(t,r){U(this,W,be).call(this),super.forEach(t,r)}get(t){var r=u(this,A),i=r.get(t);if(i===void 0){var s=super.get(t);if(s!==void 0)i=H(0),r.set(t,i);else{l(u(this,L));return}}return l(i),super.get(t)}set(t,r){var I;var i=u(this,A),s=i.get(t),o=super.get(t),a=super.set(t,r),c=u(this,L);if(s===void 0)i.set(t,H(0)),y(u(this,O),super.size),ne(c);else if(o!==r){ne(s);var p=c.reactions===null?null:new Set(c.reactions),g=p===null||!((I=s.reactions)!=null&&I.every(m=>p.has(m)));g&&ne(c)}return a}delete(t){var r=u(this,A),i=r.get(t),s=super.delete(t);return i!==void 0&&(r.delete(t),y(u(this,O),super.size),y(i,-1),ne(u(this,L))),s}clear(){if(super.size!==0){super.clear();var t=u(this,A);y(u(this,O),0);for(var r of t.values())y(r,-1);ne(u(this,L)),t.clear()}}keys(){return l(u(this,L)),super.keys()}values(){return U(this,W,be).call(this),super.values()}entries(){return U(this,W,be).call(this),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return l(u(this,O)),super.size}};A=new WeakMap,L=new WeakMap,O=new WeakMap,W=new WeakSet,be=function(){l(u(this,L));var t=u(this,A);if(u(this,O).v!==t.size)for(var r of We(Ke.prototype,this,"keys").call(this))t.has(r)||t.set(r,H(0));for(var[,i]of u(this,A))l(i)};let Me=Ke;var re,ie;class kt{constructor(e){f(this,re,C(void 0));f(this,ie);X(()=>{y(u(this,re),u(this,ie),!0),S(this,ie,e())})}get current(){return l(u(this,re))}}re=new WeakMap,ie=new WeakMap;function Ue(n,e){return setTimeout(e,n)}function ke(n){St().then(n)}const $e=typeof document<"u",qe=Pt();function Pt(){var n,e;return $e&&((n=window==null?void 0:window.navigator)==null?void 0:n.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Re(n){return n instanceof HTMLElement}function xt(n){return n instanceof Element}function _n(n){return n.matches(":focus-visible")}function Kn(n){return n!==null}function Mt(n){return n instanceof HTMLInputElement&&"select"in n}function Rt(n,e){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function N(){}function Bt(n,e){const t=h(n);function r(s){return e[t.current][s]??t.current}return{state:t,dispatch:s=>{t.current=r(s)}}}function Ut(n,e){let t=C(Nt({})),r=C("none");const i=n.current?"mounted":"unmounted";let s=C(null);const o=new kt(()=>n.current);F([()=>e.current,()=>n.current],([m,k])=>{!m||!k||ke(()=>{y(s,document.getElementById(m),!0)})});const{state:a,dispatch:c}=Bt(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});F(()=>n.current,m=>{if(l(s)||y(s,document.getElementById(e.current),!0),!l(s)||!(m!==o.current))return;const K=l(r),fe=ve(l(s));m?c("MOUNT"):fe==="none"||l(t).display==="none"?c("UNMOUNT"):c(o&&K!==fe?"ANIMATION_OUT":"UNMOUNT")});function p(m){if(l(s)||y(s,document.getElementById(e.current),!0),!l(s))return;const k=ve(l(s)),K=k.includes(m.animationName)||k==="none";m.target===l(s)&&K&&c("ANIMATION_END")}function g(m){l(s)||y(s,document.getElementById(e.current),!0),l(s)&&m.target===l(s)&&y(r,ve(l(s)),!0)}F(()=>a.current,()=>{if(l(s)||y(s,document.getElementById(e.current),!0),!l(s))return;const m=ve(l(s));y(r,a.current==="mounted"?m:"none",!0)}),F(()=>l(s),m=>{if(m)return y(t,getComputedStyle(m),!0),V(T(m,"animationstart",g),T(m,"animationcancel",p),T(m,"animationend",p))});const I=Ce(()=>["mounted","unmountSuspended"].includes(a.current));return{get current(){return l(I)}}}function ve(n){return n&&getComputedStyle(n).animationName||"none"}function Hn(n,e){ee(e,!0);const t=Ut(h.with(()=>e.present),h.with(()=>e.id));var r=J(),i=Y(r);{var s=o=>{var a=J(),c=Y(a);de(c,()=>e.presence??le,()=>({present:t})),Q(o,a)};At(i,o=>{(e.forceMount||e.present||t.current)&&o(s)})}Q(n,r),te()}function et(n,e,t,r){const i=Array.isArray(e)?e:[e];return i.forEach(s=>n.addEventListener(s,t,r)),()=>{i.forEach(s=>n.removeEventListener(s,t,r))}}class tt{constructor(e,t={bubbles:!0,cancelable:!0}){P(this,"eventName");P(this,"options");this.eventName=e,this.options=t}createEvent(e){return new CustomEvent(this.eventName,{...this.options,detail:e})}dispatch(e,t){const r=this.createEvent(t);return e.dispatchEvent(r),r}listen(e,t,r){const i=s=>{t(s)};return T(e,this.eventName,i,r)}}function je(n,e=500){let t=null;const r=(...i)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...i)},e)};return r.destroy=()=>{t!==null&&(clearTimeout(t),t=null)},r}function _e(n,e){return n===e||n.contains(e)}function nt(n){return(n==null?void 0:n.ownerDocument)??document}function Vn(n){if(!n)return null;for(const e of n.childNodes)if(e.nodeType!==Node.COMMENT_NODE)return e;return null}function _t(n,e){const{clientX:t,clientY:r}=n,i=e.getBoundingClientRect();return t<i.left||t>i.right||r<i.top||r>i.bottom}globalThis.bitsDismissableLayers??(globalThis.bitsDismissableLayers=new Map);var z,_,R,q,j,B,se,ue,D,ge,$,rt,Ee,Z,we,Se,Ne,Te,oe,it,Ie,Ae;class Kt{constructor(e){f(this,$);P(this,"opts");f(this,z);f(this,_);f(this,R,{pointerdown:!1});f(this,q,!1);f(this,j,!1);P(this,"node",h(null));f(this,B);f(this,se);f(this,ue,C(null));f(this,D,N);f(this,ge,e=>{e.defaultPrevented||this.currNode&&ke(()=>{var t,r;!this.currNode||u(this,Te).call(this,e.target)||e.target&&!u(this,j)&&((r=(t=u(this,se)).current)==null||r.call(t,e))})});f(this,Ee,e=>{let t=e;t.defaultPrevented&&(t=Ze(e)),u(this,z).current(e)});f(this,Z,je(e=>{if(!this.currNode){u(this,D).call(this);return}const t=this.opts.isValidEvent.current(e,this.currNode)||zt(e,this.currNode);if(!u(this,q)||U(this,$,it).call(this)||!t){u(this,D).call(this);return}let r=e;if(r.defaultPrevented&&(r=Ze(r)),u(this,_).current!=="close"&&u(this,_).current!=="defer-otherwise-close"){u(this,D).call(this);return}e.pointerType==="touch"?(u(this,D).call(this),S(this,D,et(u(this,B),"click",u(this,Ee),{once:!0}))):u(this,z).current(r)},10));f(this,we,e=>{u(this,R)[e.type]=!0});f(this,Se,e=>{u(this,R)[e.type]=!1});f(this,Ne,()=>{this.node.current&&S(this,q,Wt(this.node.current))});f(this,Te,e=>this.node.current?_e(this.node.current,e):!1);f(this,oe,je(()=>{for(const e in u(this,R))u(this,R)[e]=!1;S(this,q,!1)},20));f(this,Ie,()=>{S(this,j,!0)});f(this,Ae,()=>{S(this,j,!1)});P(this,"props",{onfocuscapture:u(this,Ie),onblurcapture:u(this,Ae)});this.opts=e,Be({id:e.id,ref:this.node,deps:()=>e.enabled.current,onRefChange:i=>{this.currNode=i}}),S(this,_,e.interactOutsideBehavior),S(this,z,e.onInteractOutside),S(this,se,e.onFocusOutside),X(()=>{S(this,B,nt(this.currNode))});let t=N;const r=()=>{u(this,oe).call(this),globalThis.bitsDismissableLayers.delete(this),u(this,Z).destroy(),t()};F([()=>this.opts.enabled.current,()=>this.currNode],([i,s])=>{if(!(!i||!s))return Ue(1,()=>{this.currNode&&(globalThis.bitsDismissableLayers.set(this,u(this,_)),t(),t=U(this,$,rt).call(this))}),r}),Lt(()=>{u(this,oe).destroy(),globalThis.bitsDismissableLayers.delete(this),u(this,Z).destroy(),u(this,D).call(this),t()})}get currNode(){return l(u(this,ue))}set currNode(e){y(u(this,ue),e,!0)}}z=new WeakMap,_=new WeakMap,R=new WeakMap,q=new WeakMap,j=new WeakMap,B=new WeakMap,se=new WeakMap,ue=new WeakMap,D=new WeakMap,ge=new WeakMap,$=new WeakSet,rt=function(){return V(T(u(this,B),"pointerdown",V(u(this,we),u(this,Ne)),{capture:!0}),T(u(this,B),"pointerdown",V(u(this,Se),u(this,Z))),T(u(this,B),"focusin",u(this,ge)))},Ee=new WeakMap,Z=new WeakMap,we=new WeakMap,Se=new WeakMap,Ne=new WeakMap,Te=new WeakMap,oe=new WeakMap,it=function(){return Object.values(u(this,R)).some(Boolean)},Ie=new WeakMap,Ae=new WeakMap;function Ht(n){return new Kt(n)}function Vt(n){return n.findLast(([e,{current:t}])=>t==="close"||t==="ignore")}function Wt(n){const e=[...globalThis.bitsDismissableLayers],t=Vt(e);if(t)return t[0].node.current===n;const[r]=e[0];return r.node.current===n}function zt(n,e){if("button"in n&&n.button>0)return!1;const t=n.target;return xt(t)?nt(t).documentElement.contains(t)&&!_e(e,t)&&_t(n,e):!1}function Ze(n){const e=n.currentTarget,t=n.target;let r;n instanceof PointerEvent?r=new PointerEvent(n.type,n):r=new PointerEvent("pointerdown",n);let i=!1;return new Proxy(r,{get:(o,a)=>a==="currentTarget"?e:a==="target"?t:a==="preventDefault"?()=>{i=!0,typeof o.preventDefault=="function"&&o.preventDefault()}:a==="defaultPrevented"?i:a in o?o[a]:n[a]})}function Wn(n,e){ee(e,!0);let t=w(e,"interactOutsideBehavior",3,"close"),r=w(e,"onInteractOutside",3,N),i=w(e,"onFocusOutside",3,N),s=w(e,"isValidEvent",3,()=>!1);const o=Ht({id:h.with(()=>e.id),interactOutsideBehavior:h.with(()=>t()),onInteractOutside:h.with(()=>r()),enabled:h.with(()=>e.enabled),onFocusOutside:h.with(()=>i()),isValidEvent:h.with(()=>s())});var a=J(),c=Y(a);de(c,()=>e.children??le,()=>({props:o.props})),Q(n,a),te()}globalThis.bitsEscapeLayers??(globalThis.bitsEscapeLayers=new Map);var Le,Fe;class qt{constructor(e){P(this,"opts");f(this,Le,()=>T(document,"keydown",u(this,Fe),{passive:!1}));f(this,Fe,e=>{if(e.key!==Ft||!Zt(this))return;const t=new KeyboardEvent(e.type,e);e.preventDefault();const r=this.opts.escapeKeydownBehavior.current;r!=="close"&&r!=="defer-otherwise-close"||this.opts.onEscapeKeydown.current(t)});this.opts=e;let t=N;F(()=>e.enabled.current,r=>(r&&(globalThis.bitsEscapeLayers.set(this,e.escapeKeydownBehavior),t=u(this,Le).call(this)),()=>{t(),globalThis.bitsEscapeLayers.delete(this)}))}}Le=new WeakMap,Fe=new WeakMap;function jt(n){return new qt(n)}function Zt(n){const e=[...globalThis.bitsEscapeLayers],t=e.findLast(([i,{current:s}])=>s==="close"||s==="ignore");if(t)return t[0]===n;const[r]=e[0];return r===n}function zn(n,e){ee(e,!0);let t=w(e,"escapeKeydownBehavior",3,"close"),r=w(e,"onEscapeKeydown",3,N);jt({escapeKeydownBehavior:h.with(()=>t()),onEscapeKeydown:h.with(()=>r()),enabled:h.with(()=>e.enabled)});var i=J(),s=Y(i);de(s,()=>e.children??le),Q(n,i),te()}const x=h([]);function Gt(){return{add(n){const e=x.current[0];e&&n.id!==e.id&&e.pause(),x.current=Ge(x.current,n),x.current.unshift(n)},remove(n){var e;x.current=Ge(x.current,n),(e=x.current[0])==null||e.resume()},get current(){return x.current}}}function Xt(){let n=C(!1),e=C(!1);return{id:Qe(),get paused(){return l(n)},get isHandlingFocus(){return l(e)},set isHandlingFocus(t){y(e,t,!0)},pause(){y(n,!0)},resume(){y(n,!1)}}}function Ge(n,e){return[...n].filter(t=>t.id!==e.id)}function Yt(n){return n.filter(e=>e.tagName!=="A")}function M(n,{select:e=!1}={}){if(!(n&&n.focus)||document.activeElement===n)return;const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&Mt(n)&&e&&n.select()}function Jt(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(M(r,{select:e}),document.activeElement!==t)return!0}function Xe(n,e){for(const t of n)if(!Rt(t,e))return t}function st(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Qt(n){const e=st(n),t=Xe(e,n),r=Xe(e.reverse(),n);return[t,r]}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var $t=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],en=$t.join(","),ut=typeof Element>"u",pe=ut?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ye=!ut&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},tn=function n(e,t){var r;t===void 0&&(t=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||t&&e&&n(e.parentNode);return o},nn=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},rn=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},sn=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||nn(e))&&!rn(e)?0:e.tabIndex},ot=function(e){return e.tagName==="INPUT"},un=function(e){return ot(e)&&e.type==="hidden"},on=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},an=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},cn=function(e){if(!e.name)return!0;var t=e.form||ye(e),r=function(a){return t.querySelectorAll('input[type="radio"][name="'+a+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=an(i,e.form);return!s||s===e},ln=function(e){return ot(e)&&e.type==="radio"},dn=function(e){return ln(e)&&!cn(e)},fn=function(e){var t,r=e&&ye(e),i=(t=r)===null||t===void 0?void 0:t.host,s=!1;if(r&&r!==e){var o,a,c;for(s=!!((o=i)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(i)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!s&&i;){var p,g,I;r=ye(i),i=(p=r)===null||p===void 0?void 0:p.host,s=!!((g=i)!==null&&g!==void 0&&(I=g.ownerDocument)!==null&&I!==void 0&&I.contains(i))}}return s},Ye=function(e){var t=e.getBoundingClientRect(),r=t.width,i=t.height;return r===0&&i===0},hn=function(e,t){var r=t.displayCheck,i=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=pe.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(pe.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var a=e;e;){var c=e.parentElement,p=ye(e);if(c&&!c.shadowRoot&&i(c)===!0)return Ye(e);e.assignedSlot?e=e.assignedSlot:!c&&p!==e.ownerDocument?e=p.host:e=c}e=a}if(fn(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Ye(e);return!1},vn=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var i=t.children.item(r);if(i.tagName==="LEGEND")return pe.call(t,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}t=t.parentElement}return!1},mn=function(e,t){return!(t.disabled||tn(t)||un(t)||hn(t,e)||on(t)||vn(t))},bn=function(e,t){return!(dn(t)||sn(t)<0||!mn(e,t))},pn=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return pe.call(e,en)===!1?!1:bn(t,e)};const yn=new tt("focusScope.autoFocusOnMount",{bubbles:!1,cancelable:!0}),gn=new tt("focusScope.autoFocusOnDestroy",{bubbles:!1,cancelable:!0}),En=new Ot("FocusScope");function wn({id:n,loop:e,enabled:t,onOpenAutoFocus:r,onCloseAutoFocus:i,forceMount:s}){const o=Gt(),a=Xt(),c=h(null),p=En.getOr({ignoreCloseAutoFocus:!1});let g=null;Be({id:n,ref:c,deps:()=>t.current});function I(d){if(!(a.paused||!c.current||a.isHandlingFocus)){a.isHandlingFocus=!0;try{const v=d.target;if(!Re(v))return;const b=c.current.contains(v);if(d.type==="focusin")if(b)g=v;else{if(p.ignoreCloseAutoFocus)return;M(g,{select:!0})}else d.type==="focusout"&&!b&&!p.ignoreCloseAutoFocus&&M(g,{select:!0})}finally{a.isHandlingFocus=!1}}}function m(d){if(!g||!c.current)return;let v=!1;for(const b of d){if(b.type==="childList"&&b.removedNodes.length>0)for(const E of b.removedNodes){if(E===g){v=!0;break}if(E.nodeType===Node.ELEMENT_NODE&&E.contains(g)){v=!0;break}}if(v)break}v&&c.current&&!c.current.contains(document.activeElement)&&M(c.current)}F([()=>c.current,()=>t.current],([d,v])=>{if(!d||!v)return;const b=V(T(document,"focusin",I),T(document,"focusout",I)),E=new MutationObserver(m);return E.observe(d,{childList:!0,subtree:!0,attributes:!1}),()=>{b(),E.disconnect()}}),F([()=>s.current,()=>c.current],([d,v])=>{if(d)return;const b=document.activeElement;return k(v,b),()=>{v&&K(b)}}),F([()=>s.current,()=>c.current,()=>t.current],([d,v])=>{if(!d)return;const b=document.activeElement;return k(v,b),()=>{v&&K(b)}});function k(d,v){if(d||(d=document.getElementById(n.current)),!d||!t.current)return;if(o.add(a),!d.contains(v)){const E=yn.createEvent();r.current(E),E.defaultPrevented||ke(()=>{if(!d)return;Jt(Yt(st(d)),{select:!0})||M(d)})}}function K(d){var E;const v=gn.createEvent();(E=i.current)==null||E.call(i,v);const b=p.ignoreCloseAutoFocus;Ue(0,()=>{!v.defaultPrevented&&d&&!b&&M(pn(d)?d:document.body,{select:!0}),o.remove(a)})}function fe(d){if(!t.current||!e.current&&!t.current||a.paused)return;const v=d.key===Dt&&!d.ctrlKey&&!d.altKey&&!d.metaKey,b=document.activeElement;if(!(v&&b))return;const E=c.current;if(!E)return;const[he,Pe]=Qt(E);he&&Pe?!d.shiftKey&&b===Pe?(d.preventDefault(),e.current&&M(he,{select:!0})):d.shiftKey&&b===he&&(d.preventDefault(),e.current&&M(Pe,{select:!0})):b===E&&d.preventDefault()}const He=Ce(()=>({id:n.current,tabindex:-1,onkeydown:fe}));return{get props(){return l(He)}}}function qn(n,e){ee(e,!0);let t=w(e,"trapFocus",3,!1),r=w(e,"loop",3,!1),i=w(e,"onCloseAutoFocus",3,N),s=w(e,"onOpenAutoFocus",3,N),o=w(e,"forceMount",3,!1);const a=wn({enabled:h.with(()=>t()),loop:h.with(()=>r()),onCloseAutoFocus:h.with(()=>i()),onOpenAutoFocus:h.with(()=>s()),id:h.with(()=>e.id),forceMount:h.with(()=>o())});var c=J(),p=Y(c);de(p,()=>e.focusScope??le,()=>({props:a.props})),Q(n,c),te()}globalThis.bitsTextSelectionLayers??(globalThis.bitsTextSelectionLayers=new Map);var G,ae,Oe,at,De,ce;class Sn{constructor(e){f(this,Oe);P(this,"opts");f(this,G,N);f(this,ae,h(null));f(this,De,e=>{const t=u(this,ae).current,r=e.target;!Re(t)||!Re(r)||!this.opts.enabled.current||!In(this)||!_e(t,r)||(this.opts.onPointerDown.current(e),!e.defaultPrevented&&S(this,G,Tn(t)))});f(this,ce,()=>{u(this,G).call(this),S(this,G,N)});this.opts=e,Be({id:e.id,ref:u(this,ae),deps:()=>this.opts.enabled.current});let t=N;F(()=>this.opts.enabled.current,r=>(r&&(globalThis.bitsTextSelectionLayers.set(this,this.opts.enabled),t(),t=U(this,Oe,at).call(this)),()=>{t(),u(this,ce).call(this),globalThis.bitsTextSelectionLayers.delete(this)}))}}G=new WeakMap,ae=new WeakMap,Oe=new WeakSet,at=function(){return V(T(document,"pointerdown",u(this,De)),T(document,"pointerup",Ct(u(this,ce),this.opts.onPointerUp.current)))},De=new WeakMap,ce=new WeakMap;function Nn(n){return new Sn(n)}const Je=n=>n.style.userSelect||n.style.webkitUserSelect;function Tn(n){const e=document.body,t=Je(e),r=Je(n);return me(e,"none"),me(n,"text"),()=>{me(e,t),me(n,r)}}function me(n,e){n.style.userSelect=e,n.style.webkitUserSelect=e}function In(n){const e=[...globalThis.bitsTextSelectionLayers];if(!e.length)return!1;const t=e.at(-1);return t?t[0]===n:!1}function jn(n,e){ee(e,!0);let t=w(e,"preventOverflowTextSelection",3,!0),r=w(e,"onPointerDown",3,N),i=w(e,"onPointerUp",3,N);Nn({id:h.with(()=>e.id),onPointerDown:h.with(()=>r()),onPointerUp:h.with(()=>i()),enabled:h.with(()=>e.enabled&&t())});var s=J(),o=Y(s);de(o,()=>e.children??le),Q(n,s),te()}function An(n){let e=0,t=C(void 0),r;function i(){e-=1,r&&e<=0&&(r(),y(t,void 0),r=void 0)}return(...s)=>(e+=1,l(t)===void 0&&(r=Tt(()=>{y(t,n(...s),!0)})),X(()=>()=>{i()}),l(t))}const Ln=An(()=>{const n=new Me,e=Ce(()=>{for(const s of n.values())if(s)return!0;return!1});let t=C(null),r=null;function i(){$e&&(document.body.setAttribute("style",l(t)??""),document.body.style.removeProperty("--scrollbar-width"),qe&&(r==null||r()))}return X(()=>{const s=l(e);return It(()=>{if(!s)return;y(t,document.body.getAttribute("style"),!0);const o=getComputedStyle(document.body),a=window.innerWidth-document.documentElement.clientWidth,p={padding:Number.parseInt(o.paddingRight??"0",10)+a,margin:Number.parseInt(o.marginRight??"0",10)};a>0&&(document.body.style.paddingRight=`${p.padding}px`,document.body.style.marginRight=`${p.margin}px`,document.body.style.setProperty("--scrollbar-width",`${a}px`),document.body.style.overflow="hidden"),qe&&(r=et(document,"touchmove",g=>{g.target===document.documentElement&&(g.touches.length>1||g.preventDefault())},{passive:!1})),ke(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})})}),X(()=>()=>{r==null||r()}),{get map(){return n},resetBodyStyle:i}});function Fn(n,e=()=>null){const t=Qe(),r=Ln();if(!r)return;const i=Ce(e);r.map.set(t,n??!1);const s=h.with(()=>r.map.get(t)??!1,o=>r.map.set(t,o));return X(()=>()=>{r.map.delete(t),!On(r.map)&&(l(i)===null?requestAnimationFrame(()=>r.resetBodyStyle()):Ue(l(i),()=>r.resetBodyStyle()))}),s}function On(n){for(const[e,t]of n)if(t)return!0;return!1}function Zn(n,e){ee(e,!0);let t=w(e,"preventScroll",3,!0),r=w(e,"restoreScrollDelay",3,null);Fn(t(),()=>r()),te()}export{Wn as D,zn as E,qn as F,Hn as P,Zn as S,jn as T,Ue as a,ke as b,Kn as c,kt as d,qe as e,xt as f,Vn as g,Re as h,$e as i,_n as j,Un as k,N as n};
